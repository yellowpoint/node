"use strict";
window.datePicker = function() {
	var e = function() {
		this.gearDate,
		this.minY = 1900,
		this.minM = 1,
		this.minD = 1,
		this.maxY = 2099,
		this.maxM = 12,
		this.maxD = 31,
		this.value = ""
	},
	t = document.createElement("style");
	return t.type = "text/css",
	t.appendChild(document.createTextNode('.gearYM,.gearDate,.gearDatetime,.gearTime{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:10px;background-color:rgba(0,0,0,0.2);display:block;position:fixed;top:0;left:0;width:100%;height:100%;z-index:9900;overflow:hidden;-webkit-animation-fill-mode:both;animation-fill-mode:both}.date_ctrl{vertical-align:middle;background-color:#d5d8df;color:#000;margin:0;height:auto;width:100%;position:absolute;left:0;bottom:0;z-index:9901;overflow:hidden;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.slideInUp{animation:slideInUp .3s ease;-webkit-animation:slideInUp .3s ease;}@-webkit-keyframes slideInUp{from{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.ym_roll,.date_roll,.datetime_roll,.time_roll{display:-webkit-box;width:100%;height:auto;overflow:hidden;font-weight:bold;background-color:transparent;-webkit-mask:-webkit-gradient(linear,0% 50%,0% 100%,from(#debb47),to(rgba(36,142,36,0)));-webkit-mask:-webkit-linear-gradient(top,#debb47 50%,rgba(36,142,36,0))}.ym_roll>div,.date_roll>div,.datetime_roll>div,.time_roll>div{font-size:2.3em;height:6em;float:left;background-color:transparent;position:relative;overflow:hidden;-webkit-box-flex:4}.ym_roll>div .gear,.date_roll>div .gear,.datetime_roll>div .gear,.time_roll>div .gear{width:100%;float:left;position:absolute;z-index:9902;margin-top:-6em}.date_roll_mask{-webkit-mask:-webkit-gradient(linear,0% 40%,0% 0%,from(#debb47),to(rgba(36,142,36,0)));-webkit-mask:-webkit-linear-gradient(bottom,#debb47 50%,rgba(36,142,36,0));padding:0 0 3em 0}.date_roll>div:nth-child(2){-webkit-box-flex:2}.date_roll>div:nth-child(1),.datetime_roll>div:nth-child(1){-webkit-box-flex:4}.datetime_roll>div:first-child{-webkit-box-flex:6}.datetime_roll>div:last-child{-webkit-box-flex:6}.date_grid{position:relative;top:2em;width:100%;height:2em;margin:0;box-sizing:border-box;z-index:0;border-top:1px solid #abaeb5;border-bottom:1px solid #abaeb5}.date_grid>div{color:#000;position:absolute;right:0;top:0;font-size:.8em;line-height:2.5em}.date_roll>div:nth-child(3) .date_grid>div{left:42%}.datetime_roll>div .date_grid>div{right:0}.datetime_roll>div:first-child .date_grid>div{left:auto;right:0%}.datetime_roll>div:last-child .date_grid>div{left:50%}.time_roll>div:nth-child(1) .date_grid>div{right:1em}.ym_roll>div:nth-child(1) .date_grid>div{right:.1em}.ym_roll>div .date_grid>div,.time_roll>div .date_grid>div{right:5em}.date_btn{color:#0575f2;font-size:1.6em;font-weight:bold;line-height:1em;text-align:center;padding:.8em 1em}.date_btn_box:before,.date_btn_box:after{content:"";position:absolute;height:1px;width:100%;display:block;background-color:#96979b;z-index:15;-webkit-transform:scaleY(0.33);transform:scaleY(0.33)}.date_btn_box{display:-webkit-box;-webkit-box-pack:justify;-webkit-box-align:stretch;background-color:#f1f2f4;position:relative}.date_btn_box:before{left:0;top:0;-webkit-transform-origin:50% 20%;transform-origin:50% 20%}.date_btn_box:after{left:0;bottom:0;-webkit-transform-origin:50% 70%;transform-origin:50% 70%}.date_roll>div:nth-child(1) .gear{text-indent:20%}.date_roll>div:nth-child(2) .gear{text-indent:-20%}.date_roll>div:nth-child(3) .gear{text-indent:-55%}.datetime_roll>div .gear{width:100%;text-indent:-25%}.datetime_roll>div:first-child .gear{text-indent:-10%}.datetime_roll>div:last-child .gear{text-indent:-50%}.ym_roll>div .gear,.time_roll>div .gear{width:100%;text-indent:-70%}.ym_roll>div:nth-child(1) .gear,.time_roll>div:nth-child(1) .gear{width:100%;text-indent:10%}.tooth{height:2em;line-height:2em;text-align:center}')),
	document.getElementsByTagName("head")[0].appendChild(t),
	e.prototype = {
		init: function(e) {
			if (this.type = e.type, this.trigger = document.querySelector(e.trigger), null != this.trigger.getAttribute("data-lcalendar")) {
				var t = this.trigger.getAttribute("data-lcalendar").split(","),
				a = t[0].split("-");
				this.minY = ~~a[0],
				this.minM = ~~a[1],
				this.minD = ~~a[2];
				var d = t[1].split("-");
				this.maxY = ~~d[0],
				this.maxM = ~~d[1],
				this.maxD = ~~d[2]
			}
			if (e.minDate) {
				a = e.minDate.split("-");
				this.minY = ~~a[0],
				this.minM = ~~a[1],
				this.minD = ~~a[2]
			}
			if (e.maxDate) {
				d = e.maxDate.split("-");
				this.maxY = ~~d[0],
				this.maxM = ~~d[1],
				this.maxD = ~~d[2]
			}
			this.onClose = e.onClose,
			this.onSubmit = e.onSubmit,
			this.onChange = e.onChange,
			this.bindEvent(this.type)
		},
		bindEvent: function(e) {
			var d, y = this,
			r = !1,
			i = !1;
			function v() {
				var e = y.maxY - y.minY + 1,
				t = y.gearDate.querySelector(".date_yy"),
				a = "";
				if (t && t.getAttribute("val")) {
					for (var d = parseInt(t.getAttribute("val")), r = 0; r <= e - 1; r++) a += "<div class='tooth'>" + (y.minY + r) + "</div>";
					t.innerHTML = a;
					var i = Math.floor(parseFloat(t.getAttribute("top")));
					if (isNaN(i)) t.style["-webkit-transform"] = "translate3d(0," + (8 - 2 * d) + "em,0)",
					t.setAttribute("top", 8 - 2 * d + "em");
					else {
						i % 2 == 0 ? i = i: i += 1,
						8 < i && (i = 8);
						var n = 8 - 2 * (e - 1);
						i < n && (i = n),
						t.style["-webkit-transform"] = "translate3d(0," + i + "em,0)",
						t.setAttribute("top", i + "em"),
						d = Math.abs(i - 8) / 2,
						t.setAttribute("val", d)
					}
					var s = y.gearDate.querySelector(".date_mm");
					if (s && s.getAttribute("val")) {
						a = "";
						var l = parseInt(s.getAttribute("val")),
						o = 11,
						v = 0;
						d == e - 1 && (o = y.maxM - 1),
						0 == d && (v = y.minM - 1);
						for (r = 0; r < o - v + 1; r++) a += "<div class='tooth'>" + (v + r + 1) + "</div>";
						s.innerHTML = a,
						o < l ? (l = o, s.setAttribute("val", l)) : l < v && (l = o, s.setAttribute("val", l)),
						s.style["-webkit-transform"] = "translate3d(0," + (8 - 2 * (l - v)) + "em,0)",
						s.setAttribute("top", 8 - 2 * (l - v) + "em");
						var m = y.gearDate.querySelector(".date_dd");
						if (m && m.getAttribute("val")) {
							a = "";
							var c = parseInt(m.getAttribute("val")),
							u = p(d, l) - 1,
							g = 0;
							d == e - 1 && y.maxM == l + 1 && (u = y.maxD - 1),
							0 == d && y.minM == l + 1 && (g = y.minD - 1);
							for (r = 0; r < u - g + 1; r++) a += "<div class='tooth'>" + (g + r + 1) + "</div>";
							m.innerHTML = a,
							u < c ? (c = u, m.setAttribute("val", c)) : c < g && (c = g, m.setAttribute("val", c)),
							m.style["-webkit-transform"] = "translate3d(0," + (8 - 2 * (c - g)) + "em,0)",
							m.setAttribute("top", 8 - 2 * (c - g) + "em")
						}
					}
				}
			}
			function m() {
				var e = y.gearDate.querySelector(".time_hh");
				if (e && e.getAttribute("val")) {
					for (var t = "",
					a = parseInt(e.getAttribute("val")), d = 0; d <= 23; d++) t += "<div class='tooth'>" + d + "</div>";
					e.innerHTML = t,
					e.style["-webkit-transform"] = "translate3d(0," + (8 - 2 * a) + "em,0)",
					e.setAttribute("top", 8 - 2 * a + "em");
					var r = y.gearDate.querySelector(".time_mm");
					if (r && r.getAttribute("val")) {
						t = "";
						var i = parseInt(r.getAttribute("val"));
						for (d = 0; d <= 59; d++) t += "<div class='tooth'>" + d + "</div>";
						r.innerHTML = t,
						r.style["-webkit-transform"] = "translate3d(0," + (8 - 2 * i) + "em,0)",
						r.setAttribute("top", 8 - 2 * i + "em")
					}
				}
			}
			function p(e, t) {
				return 1 == t ? (e += y.minY) % 4 == 0 && e % 100 != 0 || e % 400 == 0 && e % 4e3 != 0 ? 29 : 28 : 3 == t || 5 == t || 8 == t || 10 == t ? 30 : 31
			}
			function c(e) {
				if (!i && !r) {
					r = !0,
					e.preventDefault();
					for (var t = e.target; ! t.classList.contains("gear");) t = t.parentElement;
					clearInterval(t["int_" + t.id]),
					t["old_" + t.id] = e.targetTouches ? e.targetTouches[0].screenY: e.pageY,
					t["o_t_" + t.id] = (new Date).getTime();
					var a = t.getAttribute("top");
					t["o_d_" + t.id] = a ? parseFloat(a.replace(/em/g, "")) : 0,
					d = e
				}
			}
			function u(e) {
				if (r) {
					if (i = !0, e.preventDefault(), d) var t = d.target;
					else t = e.target;
					for (; ! t.classList.contains("gear");) t = t.parentElement;
					t["new_" + t.id] = e.targetTouches ? e.targetTouches[0].screenY: e.pageY,
					t["n_t_" + t.id] = (new Date).getTime();
					var a = 18 * (t["new_" + t.id] - t["old_" + t.id]) / 370;
					t["pos_" + t.id] = t["o_d_" + t.id] + a,
					t.style["-webkit-transform"] = "translate3d(0," + t["pos_" + t.id] + "em,0)",
					t.setAttribute("top", t["pos_" + t.id] + "em")
				}
			}
			function g(e) {
				if (r && i) {
					if (r = i = !1, e.preventDefault(), d) var t = d.target;
					else t = e.target;
					for (; ! t.classList.contains("gear");) t = t.parentElement;
					var g, h, _, b, a = (t["new_" + t.id] - t["old_" + t.id]) / (t["n_t_" + t.id] - t["o_t_" + t.id]);
					Math.abs(a) <= .2 ? t["spd_" + t.id] = a < 0 ? -.08 : .08 : Math.abs(a) <= .5 ? t["spd_" + t.id] = a < 0 ? -.16 : .16 : t["spd_" + t.id] = a / 2,
					t["pos_" + t.id] || (t["pos_" + t.id] = 0),
					g = t,
					h = 0,
					_ = !1,
					b = y.maxY - y.minY + 1,
					clearInterval(g["int_" + g.id]),
					g["int_" + g.id] = setInterval(function() {
						var e = g["pos_" + g.id],
						t = g["spd_" + g.id] * Math.exp( - .1 * h);
						if (e += t, .1 < Math.abs(t));
						else {
							t = .1;
							var a = 2 * Math.round(e / 2);
							Math.abs(e - a) < .05 ? _ = !0 : a < e ? e -= t: e += t
						}
						switch (8 < e && (e = 8, _ = !0), g.dataset.datetype) {
						case "date_yy":
							var d = 8 - 2 * (b - 1);
							if (e < d && (e = d, _ = !0), _) {
								var r = Math.abs(e - 8) / 2;
								f(g, r),
								clearInterval(g["int_" + g.id])
							}
							break;
						case "date_mm":
							var i = y.gearDate.querySelector(".date_yy"),
							n = parseInt(i.getAttribute("val")),
							s = 11,
							l = 0;
							n == b - 1 && (s = y.maxM - 1),
							0 == n && (l = y.minM - 1);
							var d = 8 - 2 * (s - l);
							if (e < d && (e = d, _ = !0), _) {
								var r = Math.abs(e - 8) / 2 + l;
								f(g, r),
								clearInterval(g["int_" + g.id])
							}
							break;
						case "date_dd":
							var i = y.gearDate.querySelector(".date_yy"),
							o = y.gearDate.querySelector(".date_mm"),
							n = parseInt(i.getAttribute("val")),
							v = parseInt(o.getAttribute("val")),
							m = p(n, v),
							c = m - 1,
							u = 0;
							n == b - 1 && y.maxM == v + 1 && (c = y.maxD - 1),
							0 == n && y.minM == v + 1 && (u = y.minD - 1);
							var d = 8 - 2 * (c - u);
							if (e < d && (e = d, _ = !0), _) {
								var r = Math.abs(e - 8) / 2 + u;
								f(g, r),
								clearInterval(g["int_" + g.id])
							}
							break;
						case "time_hh":
							if (e < -38 && (e = -38, _ = !0), _) {
								var r = Math.abs(e - 8) / 2;
								f(g, r),
								clearInterval(g["int_" + g.id])
							}
							break;
						case "time_mm":
							if (e < -110 && (e = -110, _ = !0), _) {
								var r = Math.abs(e - 8) / 2;
								f(g, r),
								clearInterval(g["int_" + g.id])
							}
						}
						g["pos_" + g.id] = e,
						g.style["-webkit-transform"] = "translate3d(0," + e + "em,0)",
						g.setAttribute("top", e + "em"),
						h++
					},
					30),
					d = null
				} else r = i = !1
			}
			function h(e) {
				g(d)
			}
			function f(e, t) {
				t = Math.round(t),
				e.setAttribute("val", t),
				/date/.test(e.dataset.datetype) ? v() : m()
			}
			function _(e) {
				e.preventDefault(),
				r = i = !1,
				y.onClose && y.onClose();
				var t = new CustomEvent("input");
				y.trigger.dispatchEvent(t),
				document.body.removeChild(y.gearDate)
			}
			function l(e) {
				var t = y.maxY - y.minY + 1,
				a = parseInt(Math.round(y.gearDate.querySelector(".date_yy").getAttribute("val"))),
				d = parseInt(Math.round(y.gearDate.querySelector(".date_mm").getAttribute("val"))) + 1;
				d = 9 < d ? d: "0" + d;
				var r = parseInt(Math.round(y.gearDate.querySelector(".date_dd").getAttribute("val"))) + 1;
				r = 9 < r ? r: "0" + r,
				y.trigger.value = a % t + y.minY + "-" + d + "-" + r,
				y.value = y.trigger.value,
				y.onSubmit && y.onSubmit(),
				_(e)
			}
			function s(e) {
				var t = y.maxY - y.minY + 1,
				a = parseInt(Math.round(y.gearDate.querySelector(".date_yy").getAttribute("val"))),
				d = parseInt(Math.round(y.gearDate.querySelector(".date_mm").getAttribute("val"))) + 1;
				d = 9 < d ? d: "0" + d,
				y.trigger.value = a % t + y.minY + "-" + d,
				y.value = y.trigger.value,
				y.onSubmit && y.onSubmit(),
				_(e)
			}
			function b(e) {
				var t = y.maxY - y.minY + 1,
				a = parseInt(Math.round(y.gearDate.querySelector(".date_yy").getAttribute("val"))),
				d = parseInt(Math.round(y.gearDate.querySelector(".date_mm").getAttribute("val"))) + 1;
				d = 9 < d ? d: "0" + d;
				var r = parseInt(Math.round(y.gearDate.querySelector(".date_dd").getAttribute("val"))) + 1;
				r = 9 < r ? r: "0" + r;
				var i = parseInt(Math.round(y.gearDate.querySelector(".time_hh").getAttribute("val")));
				i = 9 < i ? i: "0" + i;
				var n = parseInt(Math.round(y.gearDate.querySelector(".time_mm").getAttribute("val")));
				n = 9 < n ? n: "0" + n,
				y.trigger.value = a % t + y.minY + "-" + d + "-" + r + " " + (i.length < 2 ? "0": "") + i + (n.length < 2 ? ":0": ":") + n,
				y.value = y.trigger.value,
				y.onSubmit && y.onSubmit(),
				_(e)
			}
			function o(e) {
				var t = parseInt(Math.round(y.gearDate.querySelector(".time_hh").getAttribute("val")));
				t = 9 < t ? t: "0" + t;
				var a = parseInt(Math.round(y.gearDate.querySelector(".time_mm").getAttribute("val")));
				a = 9 < a ? a: "0" + a,
				y.trigger.value = (t.length < 2 ? "0": "") + t + (a.length < 2 ? ":0": ":") + a,
				y.value = y.trigger.value,
				y.onSubmit && y.onSubmit(),
				_(e)
			}
			y.trigger.addEventListener("click", {
				ym: function(e) {
					var rs = '';
					y.gearDate = document.createElement("div"),
					y.gearDate.className = "gearDate",
					y.gearDate.innerHTML = '<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn lcalendar_cancel">取消</div><div class="date_btn lcalendar_finish">确定</div></div><div class="date_roll_mask"><div class="ym_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div></div></div></div><div class="date_bg" style="width:100%;height:100%;"></div>',
					document.body.appendChild(y.gearDate),
					t = new Date,
					a = {
						yy: t.getYear(),
						mm: t.getMonth()
					},
					/^\d{4}-\d{1,2}$/.test(y.trigger.value) ? (rs = y.trigger.value.match(/(^|-)\d{1,4}/g), a.yy = rs[0] - y.minY, a.mm = rs[1].replace(/-/g, "") - 1) : a.yy = a.yy + 1900 - y.minY,
					y.gearDate.querySelector(".date_yy").setAttribute("val", a.yy),
					y.gearDate.querySelector(".date_mm").setAttribute("val", a.mm),
					v();
					var t, a;
					var d = y.gearDate.querySelector(".lcalendar_cancel");
					d.addEventListener("touchstart", _);
					var r = y.gearDate.querySelector(".lcalendar_finish");
					r.addEventListener("touchstart", s),
					y.gearDate.querySelector(".date_bg").addEventListener("click", _);
					var i = y.gearDate.querySelector(".date_yy"),
					n = y.gearDate.querySelector(".date_mm");
					i.addEventListener("touchstart", c),
					n.addEventListener("touchstart", c),
					i.addEventListener("touchmove", u),
					n.addEventListener("touchmove", u),
					i.addEventListener("touchend", g),
					n.addEventListener("touchend", g),
					d.addEventListener("click", _),
					r.addEventListener("click", s),
					i.addEventListener("mousedown", c),
					n.addEventListener("mousedown", c),
					i.addEventListener("mousemove", u),
					n.addEventListener("mousemove", u),
					i.addEventListener("mouseup", g),
					n.addEventListener("mouseup", g),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseleave", h),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseup", h)
				},
				date: function(e) {
					var rs = '';
					y.gearDate = document.createElement("div"),
					y.gearDate.className = "gearDate",
					y.gearDate.innerHTML = '<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn lcalendar_cancel">取消</div><div class="date_btn lcalendar_finish">确定</div></div><div class="date_roll_mask"><div class="date_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div><div><div class="gear date_dd" data-datetype="date_dd"></div><div class="date_grid"><div>日</div></div></div></div></div></div><div class="date_bg" style="width:100%;height:100%;"></div>',
					document.body.appendChild(y.gearDate),
					t = new Date,
					a = {
						yy: t.getYear(),
						mm: t.getMonth(),
						dd: t.getDate() - 1
					},
					/^\d{4}-\d{1,2}-\d{1,2}$/.test(y.trigger.value) ? (rs = y.trigger.value.match(/(^|-)\d{1,4}/g), a.yy = rs[0] - y.minY, a.mm = rs[1].replace(/-/g, "") - 1, a.dd = rs[2].replace(/-/g, "") - 1) : a.yy = a.yy + 1900 - y.minY,
					y.gearDate.querySelector(".date_yy").setAttribute("val", a.yy),
					y.gearDate.querySelector(".date_mm").setAttribute("val", a.mm),
					y.gearDate.querySelector(".date_dd").setAttribute("val", a.dd),
					v();
					var t, a;
					var d = y.gearDate.querySelector(".lcalendar_cancel");
					d.addEventListener("touchstart", _);
					var r = y.gearDate.querySelector(".lcalendar_finish");
					r.addEventListener("touchstart", l),
					y.gearDate.querySelector(".date_bg").addEventListener("click", _);
					var i = y.gearDate.querySelector(".date_yy"),
					n = y.gearDate.querySelector(".date_mm"),
					s = y.gearDate.querySelector(".date_dd");
					i.addEventListener("touchstart", c),
					n.addEventListener("touchstart", c),
					s.addEventListener("touchstart", c),
					i.addEventListener("touchmove", u),
					n.addEventListener("touchmove", u),
					s.addEventListener("touchmove", u),
					i.addEventListener("touchend", g),
					n.addEventListener("touchend", g),
					s.addEventListener("touchend", g),
					d.addEventListener("click", _),
					r.addEventListener("click", l),
					i.addEventListener("mousedown", c),
					n.addEventListener("mousedown", c),
					s.addEventListener("mousedown", c),
					i.addEventListener("mousemove", u),
					n.addEventListener("mousemove", u),
					s.addEventListener("mousemove", u),
					i.addEventListener("mouseup", g),
					n.addEventListener("mouseup", g),
					s.addEventListener("mouseup", g),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseleave", h),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseup", h)
				},
				datetime: function(e) {
					y.gearDate = document.createElement("div"),
					y.gearDate.className = "gearDatetime",
					y.gearDate.innerHTML = '<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn lcalendar_cancel">取消</div><div class="date_btn lcalendar_finish">确定</div></div><div class="date_roll_mask"><div class="datetime_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div><div><div class="gear date_dd" data-datetype="date_dd"></div><div class="date_grid"><div>日</div></div></div><div><div class="gear time_hh" data-datetype="time_hh"></div><div class="date_grid"><div>时</div></div></div><div><div class="gear time_mm" data-datetype="time_mm"></div><div class="date_grid"><div>分</div></div></div></div></div></div><div class="date_bg" style="width:100%;height:100%;"></div>',
					document.body.appendChild(y.gearDate),
					t = new Date,
					a = {
						yy: t.getYear(),
						mm: t.getMonth(),
						dd: t.getDate() - 1,
						hh: t.getHours(),
						mi: t.getMinutes()
					},
					/^\d{4}-\d{1,2}-\d{1,2}\s\d{2}:\d{2}$/.test(y.trigger.value) ? (rs = y.trigger.value.match(/(^|-|\s|:)\d{1,4}/g), a.yy = rs[0] - y.minY, a.mm = rs[1].replace(/-/g, "") - 1, a.dd = rs[2].replace(/-/g, "") - 1, a.hh = parseInt(rs[3].replace(/\s0?/g, "")), a.mi = parseInt(rs[4].replace(/:0?/g, ""))) : a.yy = a.yy + 1900 - y.minY,
					y.gearDate.querySelector(".date_yy").setAttribute("val", a.yy),
					y.gearDate.querySelector(".date_mm").setAttribute("val", a.mm),
					y.gearDate.querySelector(".date_dd").setAttribute("val", a.dd),
					v(),
					y.gearDate.querySelector(".time_hh").setAttribute("val", a.hh),
					y.gearDate.querySelector(".time_mm").setAttribute("val", a.mi),
					m();
					var t, a;
					var d = y.gearDate.querySelector(".lcalendar_cancel");
					d.addEventListener("touchstart", _);
					var r = y.gearDate.querySelector(".lcalendar_finish");
					r.addEventListener("touchstart", b),
					y.gearDate.querySelector(".date_bg").addEventListener("click", _);
					var i = y.gearDate.querySelector(".date_yy"),
					n = y.gearDate.querySelector(".date_mm"),
					s = y.gearDate.querySelector(".date_dd"),
					l = y.gearDate.querySelector(".time_hh"),
					o = y.gearDate.querySelector(".time_mm");
					i.addEventListener("touchstart", c),
					n.addEventListener("touchstart", c),
					s.addEventListener("touchstart", c),
					l.addEventListener("touchstart", c),
					o.addEventListener("touchstart", c),
					i.addEventListener("touchmove", u),
					n.addEventListener("touchmove", u),
					s.addEventListener("touchmove", u),
					l.addEventListener("touchmove", u),
					o.addEventListener("touchmove", u),
					i.addEventListener("touchend", g),
					n.addEventListener("touchend", g),
					s.addEventListener("touchend", g),
					l.addEventListener("touchend", g),
					o.addEventListener("touchend", g),
					d.addEventListener("click", _),
					r.addEventListener("click", b),
					i.addEventListener("mousedown", c),
					n.addEventListener("mousedown", c),
					s.addEventListener("mousedown", c),
					l.addEventListener("mousedown", c),
					o.addEventListener("mousedown", c),
					i.addEventListener("mousemove", u),
					n.addEventListener("mousemove", u),
					s.addEventListener("mousemove", u),
					l.addEventListener("mousemove", u),
					o.addEventListener("mousemove", u),
					i.addEventListener("mouseup", g),
					n.addEventListener("mouseup", g),
					s.addEventListener("mouseup", g),
					l.addEventListener("mouseup", g),
					o.addEventListener("mouseup", g),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseleave", h),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseup", h)
				},
				time: function(e) {
					y.gearDate = document.createElement("div"),
					y.gearDate.className = "gearDate",
					y.gearDate.innerHTML = '<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn lcalendar_cancel">取消</div><div class="date_btn lcalendar_finish">确定</div></div><div class="date_roll_mask"><div class="time_roll"><div><div class="gear time_hh" data-datetype="time_hh"></div><div class="date_grid"><div>时</div></div></div><div><div class="gear time_mm" data-datetype="time_mm"></div><div class="date_grid"><div>分</div></div></div></div></div></div><div class="date_bg" style="width:100%;height:100%;"></div>',
					document.body.appendChild(y.gearDate),
					t = new Date,
					a = {
						hh: t.getHours(),
						mm: t.getMinutes()
					},
					/^\d{2}:\d{2}$/.test(y.trigger.value) && (rs = y.trigger.value.match(/(^|:)\d{2}/g), a.hh = parseInt(rs[0].replace(/^0?/g, "")), a.mm = parseInt(rs[1].replace(/:0?/g, ""))),
					y.gearDate.querySelector(".time_hh").setAttribute("val", a.hh),
					y.gearDate.querySelector(".time_mm").setAttribute("val", a.mm),
					m();
					var t, a;
					var d = y.gearDate.querySelector(".lcalendar_cancel");
					d.addEventListener("touchstart", _);
					var r = y.gearDate.querySelector(".lcalendar_finish");
					r.addEventListener("touchstart", o),
					y.gearDate.querySelector(".date_bg").addEventListener("click", _);
					var i = y.gearDate.querySelector(".time_hh"),
					n = y.gearDate.querySelector(".time_mm");
					i.addEventListener("touchstart", c),
					n.addEventListener("touchstart", c),
					i.addEventListener("touchmove", u),
					n.addEventListener("touchmove", u),
					i.addEventListener("touchend", g),
					n.addEventListener("touchend", g),
					d.addEventListener("click", _),
					r.addEventListener("click", o),
					i.addEventListener("mousedown", c),
					n.addEventListener("mousedown", c),
					i.addEventListener("mousemove", u),
					n.addEventListener("mousemove", u),
					i.addEventListener("mouseup", g),
					n.addEventListener("mouseup", g),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseleave", h),
					y.gearDate.querySelector(".date_roll_mask").addEventListener("mouseup", h)
				}
			} [e])
		}
	},
	e
} ();